<!DOCTYPE html>
<html lang="pt-BR"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title th:text="${evento.nome} + ' – ReClick'">ReClick – Detalhe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style> body { font-family: 'Inter', sans-serif; } </style>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">

<nav class="bg-white shadow-sm fixed w-full z-10">
    <div class="container mx-auto px-4 py-3">
        <div class="flex justify-between items-center">
            <!-- Logo -->
            <a th:href="@{/}" class="text-2xl font-bold text-emerald-600 ml-2">ReClick</a>

            <!-- Links principais -->
            <div class="hidden md:flex space-x-8 items-center">
                <a th:href="@{/}" class="text-gray-700 hover:text-emerald-600">Início</a>
                <a th:href="@{/eventos}" class="text-gray-700 hover:text-emerald-600">Eventos</a>

                <!-- mostra “Meu Perfil” para todo mundo autenticado que NÃO for vendedor -->
                <a sec:authorize="isAuthenticated() and !hasRole('VENDEDOR')"
                   th:href="@{/perfilusuario}"
                   class="text-gray-700 hover:text-emerald-600">Meu Perfil</a>

                <!-- mostra “Painel Vendedor” só para vendedores -->
                <a sec:authorize="hasRole('VENDEDOR')"
                   th:href="@{/perfilvendedor}"
                   class="text-gray-700 hover:text-emerald-600">Meu Perfil</a>

                <!-- sem login -->
                <a sec:authorize="!isAuthenticated()"
                   th:href="@{/login}"
                   class="text-emerald-600 hover:underline">Login/Cadastro</a>

                <!-- com login -->
            </div>
        </div>
    </div>
</nav>
<div class="h-16"></div>
<main class="max-w-3xl mx-auto mt-0 p-6 bg-white rounded-lg shadow">
    <h1 class="text-3xl font-bold mb-4" th:text="${evento.nome}">Nome do Evento</h1>

    <p><strong>Data:</strong> <span th:text="${evento.data}">01/01/2025</span></p>
    <p><strong>Horário:</strong> <span th:text="${evento.horario}">20:00</span></p>
    <p><strong>Local:</strong> <span th:text="${evento.local}">Auditório</span></p>

    <h2 class="mt-6 text-xl font-semibold">Descrição</h2>
    <p th:text="${evento.descricao}">Descrição do evento...</p>

    <!-- Formulário de reserva funcional -->
    <form th:action="@{/eventos/reservar}" method="post" class="mt-6">
        <input type="hidden" name="eventoId" th:value="${evento.id}" />

        <label for= "quantidade" class="block mt-2 mb-1 font-medium">Quantidade de ingressos:</label>
        <input type="number" name="quantidade" min="1" value="1" required
               class="border border-gray-300 rounded px-3 py-2 w-24" />

        <button type="submit"
                class="ml-4 px-6 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 transition">
            Reservar Ingresso
        </button>
    </form>

    <aside class="mt-8 bg-gray-50 p-4 rounded">
        <h3 class="font-semibold mb-2">Informações do Vendedor</h3>
        <p><strong>Empresa:</strong> <span th:text="${evento.vendedor.nomeEmpresa}">Minha Empresa</span></p>
        <p><strong>Telefone:</strong> <span th:text="${evento.vendedor.telefone}">(00) 0000-0000</span></p>
        <p><strong>PIX:</strong> <span th:text="${evento.chavePix}">pix@exemplo.com</span></p>
    </aside>
</main>

</body>
</html>
